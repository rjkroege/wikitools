<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" 
  "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
   <title>debug the timeline</title>
   <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />

   <link rel="stylesheet" href="timeline/resetfonts.css" type="text/css">
   <link rel="stylesheet" type="text/css" href="timeline/base.css"> 
   
  <!-- need CSS files -->
   <link rel="stylesheet" href="timeline/timeline-bundle.css"
       type="text/css">

  <!-- this is needed to make the timeline work -->
  <!-- move all of the JS to the end -->
  <script src="timeline/simile-ajax-api.js"
      type="text/javascript"></script>
  <script>
    window.Timeline = window.Timeline || {};
    window.Timeline.DateTime = window.SimileAjax.DateTime; // for backward compatibility
  </script>

  <script src="timeline/timeline-bundle.js"
      type="text/javascript"></script>
  
  <!-- need some localization here? -->
  <script>
    Timeline.serverLocale = "en";
    Timeline.clientLocale = "en";
    Timeline.urlPrefix = "timeline/";
    
    Timeline.GregorianDateLabeller.monthNames["en"] = [
        "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

    Timeline.GregorianDateLabeller.dayNames["en"] = [
        "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];

    Timeline.strings["en"] = {wikiLinkLabel:  "Discuss" };
  </script>


  <!-- the data -->
  <script src="note_list.js" type="text/javascript"></script>

  <!-- the config for this timeline -->
   <script>
       // This should go in a different file.
        var tl;
        function onLoad() {
            var tl_el = document.getElementById("tl");
            var eventSource1 = new Timeline.DefaultEventSource();
            
            var theme1 = Timeline.ClassicTheme.create();
            theme1.autoWidth = true; // Set the Timeline's "width" automatically.
                                     // Set autoWidth on the Timeline's first band's theme,
                                     // will affect all bands.

            theme1.timeline_start = new Date(Date.UTC(1990, 0, 1));
            theme1.timeline_stop  = new Date(Date.UTC(2020, 0, 1));
            
            var d = Timeline.DateTime.parseGregorianDateTime("2010")
            var bandInfos = [
//                Timeline.createBandInfo({
//                    width:          45, // set to a minimum, autoWidth will then adjust
//                    intervalUnit:   Timeline.DateTime.YEAR, 
//                    intervalPixels: 200,
//                    eventSource:    eventSource1,
//                    date:           d,
//                    theme:          theme1,
//                    layout:         'original'  // original, overview, detailed
//                })

      // Make a month band
      Timeline.createBandInfo({
         width:          "70%", 
         intervalUnit:   Timeline.DateTime.WEEK,
         intervalPixels: 200,
                    eventSource:    eventSource1,
                    date:           d,
                    theme:          theme1,
                    layout:         'detailed'  // original, overview, detailed
     }),
     
     // Make a year band
     Timeline.createBandInfo({
         width:          "30%", 
         intervalUnit:   Timeline.DateTime.YEAR, 
         intervalPixels: 100,
                    eventSource:    eventSource1,
                    date:           d,
                    theme:          theme1,
                    layout:         'overview'  // original, overview, detailed
     })            
            ];

   // Sync the bands...            
   bandInfos[1].syncWith = 0;
   bandInfos[1].highlight = true;                                                     


            // create the Timeline
            tl = Timeline.create(tl_el, bandInfos, Timeline.HORIZONTAL);
            
            var url = '.'; // The base url for image, icon and background image
                           // references in the data
            eventSource1.loadJSON(timeline_data, url); // The data was stored into the 
                                                       // timeline_data variable.
            tl.layout(); // display the Timeline
        }
        
        var resizeTimerID = null;
        function onResize() {
            if (resizeTimerID == null) {
                resizeTimerID = window.setTimeout(function() {
                    resizeTimerID = null;
                    tl.layout();
                }, 500);
            }
        }
   </script>

</head>
<body onload="onLoad();" onresize="onResize();">
<div id="doc3" class="yui-t7">
   <div id="bd" role="main">
	   <div class="yui-g">
	     <div id='tl'></div>
	   </div>
	 </div>
</div>

End.

</body>
</html>


